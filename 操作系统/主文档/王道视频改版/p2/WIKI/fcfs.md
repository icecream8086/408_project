# 先来先服务（FCFS, First Come First Serve）调度算法

## 关键公式

$$
\text{周转时间} = \text{完成时间} - \text{到达时间}
$$

$$
\text{带权周转时间} = \frac{\text{周转时间}}{\text{运行时间}}
$$

$$
\text{等待时间} = \text{周转时间} - \text{运行时间}
$$

| **变量名**       | **解释**                                                                                        |
| ---------------- | ----------------------------------------------------------------------------------------------- |
| **到达时间**     | 进程进入就绪队列的时间（通常记为 $t_{\text{arrival}}$）。                                       |
| **运行时间**     | 进程占用 CPU 执行所需的时间（通常记为 $t_{\text{burst}}$）。                                    |
| **完成时间**     | 进程执行完成的时间（通常记为 $t_{\text{completion}}$）。                                        |
| **周转时间**     | 从进程到达就绪队列到执行完成的总时间（$\text{周转时间} = \text{完成时间} - \text{到达时间}$）。 |
| **带权周转时间** | 周转时间与运行时间的比值（$\text{带权周转时间} = \frac{\text{周转时间}}{\text{运行时间}}$）。   |
| **等待时间**     | 进程在就绪队列中等待 CPU 的时间（$\text{等待时间} = \text{周转时间} - \text{运行时间}$）。      |

## 算法定义

先来先服务调度算法按照进程到达就绪队列的先后顺序进行调度。即等待时间越久的进程越优先得到服务。

## 例题数据

| 进程 | 到达时间 | 运行时间 |
| ---- | -------- | -------- |
| P1   | 0        | 7        |
| P2   | 2        | 4        |
| P3   | 4        | 1        |
| P4   | 5        | 4        |

## 调度顺序

根据 FCFS 算法，调度顺序为：P1 → P2 → P3 → P4。

## 甘特图表示

```txt
P1       P2       P3    P4
|--------|--------|-----|----|
0        7        11    12   16
```

## 计算各项指标

1. **完成时间**：进程执行结束的时间。

   - P1: 7
   - P2: 11
   - P3: 12
   - P4: 16

2. **周转时间**（完成时间 - 到达时间）：

   - P1: $7 - 0 = 7$
   - P2: $11 - 2 = 9$
   - P3: $12 - 4 = 8$
   - P4: $16 - 5 = 11$

3. **带权周转时间**（周转时间 / 运行时间）：

   - P1: $7 / 7 = 1$
   - P2: $9 / 4 = 2.25$
   - P3: $8 / 1 = 8$
   - P4: $11 / 4 = 2.75$

4. **等待时间**（周转时间 - 运行时间）：

   - P1: $7 - 7 = 0$
   - P2: $9 - 4 = 5$
   - P3: $8 - 1 = 7$
   - P4: $11 - 4 = 7$

5. **平均周转时间**：

   $$
   \frac{7 + 9 + 8 + 11}{4} = 8.75
   $$

6. **平均带权周转时间**：

   $$
   \frac{1 + 2.25 + 8 + 2.75}{4} = 3.5
   $$

7. **平均等待时间**：
   $$
   \frac{0 + 5 + 7 + 7}{4} = 4.75
   $$

## 注意事项

- 本例中的进程均为纯计算型进程，即进程到达后要么在等待，要么在运行。
- 如果进程包含计算和 I/O 操作，则等待时间需调整为：周转时间 - 运行时间 - I/O 操作时间。
