# 进程内存管理与页面分配策略

## 摘要
本视频讲解了进程内存管理中的页面分配策略、页面调入策略、抖动现象及其解决方法。主要内容包括注流级的概念、固定分配与可变分配、局部置换与全局置换、页面调入的来源与策略、抖动现象的原因及工作级的概念。

## 主题
本视频围绕进程内存管理展开，重点介绍了页面分配策略、页面调入策略以及抖动现象的解决方法。通过注流级、工作级等概念，帮助理解如何优化内存分配以减少缺页率和抖动现象。

> 重点难点
>
> - **注流级与工作级的关系**：注流级大小不能小于工作级大小，否则会导致频繁缺页和抖动现象。
> - **页面分配策略**：固定分配与可变分配、局部置换与全局置换的区别及其优缺点。
> - **抖动现象**：抖动现象的原因及解决方法，如何通过分配足够的物理块来避免抖动。

## 线索区

### 知识点1：页面分配策略
- **固定分配局部置换**：系统为进程分配固定数目的物理块，运行期间不变，缺页时只能置换进程自身的物理块。灵活性低，难以确定合适的物理块数量。
- **可变分配全局置换**：物理块数量可变，缺页时从空闲物理块或未锁定页面中分配。灵活性高，但可能导致系统并发度下降。
- **可变分配局部置换**：物理块数量可变，缺页时只能置换进程自身的物理块。操作系统根据进程缺页率动态调整物理块数量，直到缺页率降低。

### 知识点2：页面调入策略
- **预调页策略**：基于局部性原理，预测并提前调入可能访问的页面。缺点是如果预调入的页面未被访问，则效率低下。
- **请求调页策略**：在进程运行期间发现缺页时才调入页面，虽然IO开销大，但调入的页面肯定会被访问。

### 知识点3：页面调入的来源
- **兑换区**：采用连续分配方式，读写速度更快。
- **文件区**：采用离散分配方式，读写速度较慢。
- **Unix系统的页面调入方式**：首次使用的页面从文件区直接调入内存，之后如果需要换出，则换出到兑换区。如果页面再次被使用，则从兑换区换回内存。

### 知识点4：抖动现象
- **抖动现象**：指页面频繁换入换出，导致系统处理页面调度的时间增加，实际执行进程的时间减少。
- **抖动的原因**：进程频繁访问的页面数超过可用的物理块数。
- **解决方法**：为进程分配足够的物理块，但过多的物理块会降低系统并发度。

### 知识点5：工作级概念
- **工作级**：进程在某段时间内实际访问的页面集合。
- **窗口尺寸**：操作系统通过设置窗口尺寸来计算工作级，窗口尺寸通常较大，如10、50、100。
- **局部性好的进程**：工作级的大小通常小于窗口尺寸。

## 总结区
本视频详细介绍了进程内存管理中的页面分配策略、页面调入策略以及抖动现象的解决方法。通过注流级、工作级等概念，帮助理解如何优化内存分配以减少缺页率和抖动现象。重点难点包括注流级与工作级的关系、页面分配策略的区别及其优缺点、抖动现象的原因及解决方法。这些内容通常在选择题中考察，但也可能作为大题条件出现，需通过课后习题巩固。