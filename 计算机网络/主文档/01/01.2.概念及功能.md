# 计算机网络概述

## 摘要

本笔记系统解析计算机网络核心概念，通过分层协议视角构建可验证知识框架。采用 Wireshark 抓包验证与拓扑实验相结合的方法，重点阐释 OSI/TCP/IP 模型差异、性能指标量化分析及网络演进关键事件。

## 主题

计算机网络通过协议栈实现端到端通信，核心价值在于**资源虚拟化**与**服务可靠性**。重点关注分层模型实现原理与性能指标工程意义。

> 重点难点
>
> - 协议分层解耦的实现机制
> - 端到端时延的组成分析
> - 五层模型与 TCP/IP 四层架构映射关系

## 线索区

### 物理层关键指标

$$

带宽计算公式：C = W \log_2(1 + \frac{S}{N}) \quad (香农定理)

$$

| 参数 | 解释                                    |
| ---- | --------------------------------------- |
| C    | 信道容量（带宽），单位是比特每秒（bps） |
| W    | 信道的带宽，单位是赫兹（Hz）            |
| S    | 信号的功率，单位是瓦特（W）             |
| N    | 噪声的功率，单位是瓦特（W）             |

---

- **MTU**：以太网默认**1500 字节**（需考虑 PPPoE 头部开销）
- 延迟组成：
  - 传输延迟 $d_{trans} = L/R$
  - 传播延迟 $d_{prop} = D/v$
  - 排队延迟 $d_{queue}$（突发流量敏感）

| 参数            | 解释                                     |
| --------------- | ---------------------------------------- |
| **L**           | 数据包的长度（以比特为单位）             |
| **R**           | 链路的传输速率（以比特每秒为单位）       |
| **D**           | 从源到目的地的距离（以米为单位）         |
| **$v$**         | 信号在介质中的传播速度（以米每秒为单位） |
| **$d_{queue}$** | 由网络节点处理突发流量时引起的等待时间   |

### 体系结构对比

| 功能维度 | OSI 七层模型      | TCP/IP 四层模型 |
| -------- | ----------------- | --------------- |
| 寻址范围 | 网络层(逻辑地址)  | 网际层(IP 地址) |
| 流量控制 | 传输层+数据链路层 | 传输层(TCP)     |
| 典型协议 | X.25/HDLC         | IP/TCP/HTTP     |

### **OSI 7 层 vs TCP/IP 4 层模型**

- **OSI 7 层模型**：从上到下分为应用层、表示层、会话层、传输层、网络层、数据链路层、物理层。

它是一个更加理论性的模型，强调不同功能的抽象分层。

- **TCP/IP 4 层模型**：分为应用层、传输层、互联网层和网络接口层。这个模型更侧重实际应用，简化了 OSI 模型，特别是把 OSI 的`表示层`和`会话层`合并到了应用层。

用**图书馆借书**来类比：

- **OSI 模型**类似图书馆的完整管理流程，借书从申请（应用层）到登记（表示层），再到会话（会话层），每一步都有严格的规定。

- **TCP/IP 模型**像是简化了流程，只有“借书”本身（应用层）、“书籍传输”（传输层）、“书籍到达的路径”（互联网层）和“书架上的位置”（网络接口层）。

### 实验验证命令

```bash
# 带宽测试 (Linux)
iperf3 -c 192.168.1.100 -t 30 -p 5201

# 延迟测量 (Windows)
pathping www.example.com

# 抓包过滤ARP协议
tcpdump -i eth0 'arp' -w arp.pcap
```

> 操作系统差异：Windows 使用`tracert`，Linux 使用`traceroute`

### 发展里程碑

1. **1969 ARPANET**：分组交换网络原型
2. **1983 TCP/IP**：取代 NCP 实现异构网络互联
3. **1991 WWW**：HTTP/HTML 应用层革命

## 总结区

**核心考点：**

1. 时延计算：区分传输时延与传播时延的应用场景
2. 模型对比：OSI 会话层/表示层在 TCP/IP 中的实现位置
3. 演进逻辑：从电路交换到分组交换的可靠性演进

**实验重点：**

- 使用 Wireshark 分析 HTTP/HTTPS 协议时，注意**SSL/TLS 握手过滤表达式**：
  `tls.handshake.type == 1`

**延伸思考：**

- BGP 路由震荡与 TCP 拥塞控制的协同作用
- SDN 架构如何重构传统网络分层模型

本框架满足网络协议分析的核心需求，后续可结合具体协议（如 TCP 三次握手）进行抓包实证分析。
