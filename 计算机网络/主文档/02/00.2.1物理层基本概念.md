# 物理层概述与通信基础

## 摘要

本课程系统解析物理层核心功能与通信基础，通过理论公式推导与实验验证结合的方式，重点阐述数据传输极限计算、信号编码机制及物理层接口标准。提供可验证的测试命令与参数配置指南，实现理论到实践的闭环验证。

---

## 主题

物理层作为 OSI 参考模型第一层，定义设备与传输介质的机械/电气接口规范。核心内容包括：

- **奈奎斯特准则**与**香农定理**的数学建模
- 三种数据交换方式对比与选型依据
- 物理层四元组接口特性解析

> 重点难点
>
> - 奈奎斯特公式 $C = 2W \log_2 V$ 与香农公式 $C = W \log_2(1+S/N)$ 的联合应用
> - TDM 与 FDM 多路复用技术的物理层实现差异
> - 物理层故障排查命令集（附 Linux/Windows 环境差异）

---

## 线索区

### 知识点 1：信道容量计算

$$
\begin{align*}
&\text{奈奎斯特极限:} & C &= 2W \log_2 V \quad \text{(V为信号电平数)}\\
&\text{香农容量:} & C &= W \log_2(1 + S/N) \quad \text{(S/N为信噪比)}
\end{align*}
$$

**实验验证：**

```bash
# 测量网卡协商速率（Linux）
$ ethtool eth0 | grep -i speed
    Speed: 1000Mb/s

# 信噪比测试（需专业仪器）
$ iwconfig wlan0 | grep -i quality
    Link Quality=70/70 Signal level=-34 dBm
```

### 知识点 2：数据交换方式对比

| 特性       | 电路交换      | 报文交换     | 分组交换     |
| ---------- | ------------- | ------------ | ------------ |
| 时延特性   | 建立时延高    | 存储转发时延 | 分段传输时延 |
| 带宽利用率 | 固定分配      | 动态分配     | 统计复用     |
| 典型应用   | PSTN 电话网络 | 电报系统     | IP 网络      |
| 故障容忍度 | 单点故障敏感  | 路径冗余     | 自动路由     |

### 知识点 3：物理层接口特性

**机械特性**  
RJ45 接口规格：

> _8P8C 连接器，线序标准 T568A/B_

**电气特性**  
以太网电压规范：

- 差分信号电压范围：±0.7V~±1.3V
- **最大传输距离**：
  - 100BASE-TX：**100 米**
  - 1000BASE-T：**100 米**（Cat5e 及以上）

---

## 总结区

### 核心考点

1. 信道容量联合计算题（同时给出带宽、信噪比、电平数时求最大速率）
2. 物理层设备辨析：
   - 中继器（信号再生） vs 集线器（多端口信号广播）

### 故障排查指南

```bash
# 检查物理连接状态（Linux）
$ mii-tool eth0
eth0: negotiated 1000baseT-FD flow-control, link ok

# 抓取物理层错误帧（需镜像端口）
$ tcpdump -i eth0 -s 0 -w physical_errors.pcap 'ether[0] & 1 != 0'
```

### 进阶思考

当光纤链路出现 CRC 错误率突增时，如何通过物理层参数（发射功率、接收灵敏度）定位故障根源？

---

通过本课程构建物理层知识验证框架，后续可通过 Wireshark 观察 MAC 帧结构验证物理层封装过程。建议结合 Fluke 网络测试仪实测不同电缆的衰减参数。
