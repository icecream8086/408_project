# 编码与调制的基本概念

## 摘要

本课解析数据通信中编码与调制的核心原理，通过分层设备映射与信号转换逻辑，构建可实验验证的物理层知识框架。提供设备对照表与 Wireshark 观测要点，实现理论到抓包分析的衔接。

## 主题

**物理层信号转换技术**  
关键转换路径：

1. 数字数据 → 数字信号（编码）
2. 数字数据 → 模拟信号（调制）
3. 模拟数据 → 数字信号（编码）
4. 模拟数据 → 模拟信号（调制）

> 重点难点
>
> - **信号转换路径辨析**：区分编码器/调制器应用场景
> - **PCM 量化过程**：理解采样-量化-编码三阶段
> - **设备功能映射**：数字发送器 vs PCM 编码器

## 线索区

### 知识点 1：物理层转换矩阵

| 数据源       | 目标信号       | 转换设备                      |
|--------------|----------------|-------------------------------|
| 数字数据     | 数字信号       | 数字发送器（如NRZ编码器）      |
| 数字数据     | 模拟信号       | 调制器（QAM/V.34）            |
| 模拟数据     | 数字信号       | PCM（Pulse Code Modulation）编码器 |
| 模拟数据     | 模拟信号       | 放大器调制器（FM广播发射机）   |

```text
数据源
├─ 数字数据
│  ├─ 数字信号 → NRZ编码器
│  └─ 模拟信号 → QAM/V.34调制器
└─ 模拟数据
   ├─ 数字信号 → PCM编码器
   └─ 模拟信号 → FM广播发射机
```

### 知识点 2：典型抓包特征

```wireshark
# 观测数字信号编码（以曼彻斯特编码为例）
eth.type == 0x0800 && frame.encoding == manchester

# 捕获调制信号参数（V.34调制标准）
v34.signal.level > -30 && v34.carrier_freq == 1800
```

### 知识点 3：PCM 编码实验

```bash
# Linux环境生成PCM测试流（8000Hz采样率）
sox -n -r 8000 -b 16 -c 1 test.pcm synth 5 sine 1000
# Windows验证量化误差（使用Audacity导入RAW数据）
audacity test.pcm → 文件类型: RAW（signed 16-bit PCM）
```

## 总结区

### 核心考点

1. **设备选型判断**：给出应用场景选择编码/调制设备（如 VoIP 使用 PCM 编码器）
2. **信号频谱分析**：通过 Wireshark 识别 QAM-16 与 QPSK 调制差异
3. **量化误差计算**：根据采样定理推算 PCM 质量损失（$\text{SNR}=6.02n+1.76$ dB）

### 实验验证建议

1. 使用**tcpdump -I**监控射频接口（需支持 Monitor 模式）
2. 通过**ffmpeg -f alsa**捕获声卡原始 PCM 数据
3. 对比 NRZ 与曼彻斯特编码的**基线漂移**现象

### 拓扑设计示例

```txt
[PC]--(USB)→[RTL-SDR]--(RF)→[GNU Radio]--(PCM)→[Wireshark]
```

该框架支持实时观测调制编码全过程，可验证不同采样率下的量化噪声影响。
