# 信号传输与失真（物理层）

## 摘要

本课解析物理层信号失真机制，通过奈氏准则与香农定理建立传输速率数学模型，结合网络测试工具验证理论极限。重点对比理想/噪声环境下传输特性差异，提供信噪比实测方法。

## 主题

信号失真本质是波形畸变，其程度由码元速率、传输距离、噪声功率共同决定。通过 Wireshark 时域波形分析和 tc 命令模拟带宽限制，验证理论极限的实践意义。

> 重点难点
>
> - 奈氏准则与香农定理的适用场景辨析
> - 分贝与线性信噪比的换算（10·log₁₀(S/N)）
> - 实际网络中的联合应用：C = min(2W log₂V, W log₂(1+S/N))

## 线索区

### 失真机制（物理层）

$$
失真率 \propto \frac{码元速率 \times 传输距离}{信道质量 \times 抗噪容限}
$$

- 典型现象：码间串扰（ISI）、相位抖动
- 实验验证：`tc qdisc add dev eth0 root netem delay 10ms 2ms` 模拟信道劣化

### 奈奎斯特准则

- **理想低通信道**定义：
  - 无噪声（SNR→∞）
  - 带宽限制为 W(Hz)
- 实验对照：`iperf3 -c 192.168.1.1 -t 60 -b 2W` 测试极限速率

### 香农定理

$$
C = W \log_2(1 + \frac{S}{N}) \quad \text{(bps)}
$$

- **信噪比测量**：
  - `iwconfig wlan0 | grep -i quality`（Linux 无线网卡）
  - `SNR(dB) = 10\log_{10}(\frac{P_{signal}}{P_{noise}})`
- 典型值参考：ADSL 线路>40dB，4G LTE>20dB

### 定理对比

| 维度     | 奈氏准则                  | 香农定理              |
| -------- | ------------------------- | --------------------- |
| 适用场景 | 无噪声数字信道            | 有噪声模拟信道        |
| 核心约束 | 码间干扰                  | 热噪声                |
| 提升途径 | 增加信号电平级数          | 提高发射功率/降低噪声 |
| 实验验证 | `ethtool -S eth0`看错包率 | `ping -f`测试丢包率   |

## 总结区

**核心考点**：

1. 奈氏准则计算码元速率（2W 波特），香农定理计算比特率（W log₂(1+S/N)）
2. 分贝换算：30dB=1000 倍功率比，-3dB≈1/2 功率
3. 联合应用时取两者最小值作为信道容量

**实验重点**：

```bash
# 噪声环境模拟（Linux）
tc qdisc add dev eth0 root netem loss 5% delay 10ms reorder 25%

# 实时信噪比监测（需无线网卡支持）
watch -n 1 "iwconfig wlan0 | grep 'Signal level'"
```

**故障排查**：

- 高码率误码：检查`ifconfig`输出的 RX/TX errors
- 速率不达标：用`iperf3`实测对比理论值，判断瓶颈在物理层 or 上层协议
