# TCP可靠传输机制

## 摘要

本节课详细讲解了TCP协议中的可靠传输机制，包括确认机制、重传机制、自适应重传时间算法和快速重传技术。通过这些机制，TCP能够确保数据在不可靠的网络环境中实现可靠传输。

## 主题

TCP协议通过多种机制实现可靠传输，包括确认机制、重传机制、自适应重传时间算法和快速重传技术。这些机制共同作用，确保数据的有序传输和丢失报文的及时重传。

> 重点难点
>
> - **确认机制**：接收方通过确认报文段指导发送方的下一步操作。
> - **重传机制**：发送方在规定时间内未收到确认时重传报文段。
> - **自适应重传时间算法**：动态调整重传时间，避免不必要的重传和网络空闲。
> - **快速重传技术**：通过冗余ACK提前发现报文段丢失并快速重传。

## 线索区

### 知识点1：确认机制
- **确认机制**：接收方通过确认报文段告知发送方已接收到的数据，确认号字段表示期待接收的下一个字节。
- **累积确认**：接收方只确认到第一个丢失字节为止的数据，即使收到后续报文段，确认号仍为丢失字节的序号。

### 知识点2：重传机制
- **超时重传**：发送方在规定时间内未收到确认时重传报文段，规定时间称为重传时间。
- **自适应重传时间算法**：通过加权平均计算多个报文段的往返时间（RTTs），动态调整重传时间。

### 知识点3：快速重传技术
- **冗余ACK**：当接收方收到比期望序号大的报文段时，发送冗余ACK指明下一个期待字节的序号。
- **快速重传**：发送方收到三个冗余ACK后，判定报文段丢失，立即重传该报文段。

## 总结区

本节课详细讲解了TCP协议中的可靠传输机制，包括确认机制、重传机制、自适应重传时间算法和快速重传技术。这些机制共同作用，确保数据的有序传输和丢失报文的及时重传。确认机制通过接收方的反馈指导发送方的下一步操作，而重传机制则确保丢失的报文段能够及时重传。自适应算法动态调整重传时间，避免不必要的重传和网络空闲，快速重传技术则通过冗余ACK提前发现报文段丢失并快速重传，进一步提升传输效率。