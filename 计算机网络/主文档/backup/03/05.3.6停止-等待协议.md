# 停滞等待协议详解

## 摘要

本节课详细介绍了停滞等待协议的工作原理、应用场景及其优缺点。通过超时计时器、确认帧和自动重传机制，停滞等待协议确保了数据的可靠传输。尽管其信道利用率较低，但通过引入GBN和SR协议，可以有效提高传输效率。

## 主题

停滞等待协议是一种简单的可靠传输协议，主要用于解决丢包和流量控制问题。其核心机制包括超时重传、确认帧和帧编号。尽管协议简单，但信道利用率较低，因此在实际应用中常与其他协议（如GBN和SR）结合使用。

> 重点难点
>
> - 理解停滞等待协议的工作原理，特别是超时计时器和确认帧的作用。
> - 掌握信道利用率和吞吐率的计算方法。
> - 了解停滞等待协议的优缺点及其改进方案（如GBN和SR协议）。

## 线索区

### 知识点1：停滞等待协议的基本工作原理
- 发送方发送一个数据帧后，等待接收方的确认帧。
- 如果在超时计时器到期前收到确认帧，发送方继续发送下一个数据帧。
- 如果未收到确认帧，发送方将重传数据帧。

### 知识点2：超时计时器与确认帧的处理
- 超时计时器用于检测数据帧或确认帧是否丢失。
- 重传时间应比平均往返时间（RTT）更长，以确保可靠传输。
- 确认帧的迟到或丢失会导致数据帧的重传。

### 知识点3：信道利用率和吞吐率的计算
- 信道利用率（U）的计算公式为：
  \[
  U = \frac{T_D}{T_D + RTT + T_A}
  \]
  其中，\(T_D\) 是数据帧发送时间，\(RTT\) 是往返时间，\(T_A\) 是确认帧发送时间。
- 信道吞吐率是信道利用率乘以发送方的发送速率。

### 知识点4：停滞等待协议的优缺点
- **优点**：简单易实现，适用于低速率、低延迟的网络环境。
- **缺点**：信道利用率低，发送方大部分时间处于空闲状态。

### 知识点5：改进协议（GBN和SR）
- **GBN协议**（Go-Back-N）：允许发送方连续发送多个数据帧，减少等待时间。
- **SR协议**（Selective Repeat）：选择性重传丢失的帧，进一步提高信道利用率。

## 总结区

本节课详细讲解了停滞等待协议的工作原理、应用场景及其优缺点。通过超时计时器、确认帧和自动重传机制，停滞等待协议确保了数据的可靠传输。尽管其信道利用率较低，但通过引入GBN和SR协议，可以有效提高传输效率。掌握信道利用率和吞吐率的计算方法，理解协议的优缺点及其改进方案，是本节课的重点和难点。