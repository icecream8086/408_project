# 移动IP技术

## 摘要

移动IP技术旨在保持移动设备的IP地址不变，确保通信的连续性。通过引入转交地址，并管理永久地址和转交地址，实现移动节点在不同网络间的无缝通信。课程详细介绍了移动IP的基本概念、通信过程以及实际应用场景。

## 主题

移动IP技术通过转交地址和永久地址的绑定，确保移动设备在不同网络间通信时IP地址不变。关键概念包括移动节点、归属代理、外部代理和转交地址。

> 重点难点
>
> - 理解转交地址的作用及其获取方式
> - 掌握移动IP通信过程中归属代理和外部代理的角色
> - 分析移动节点在不同网络间切换时的通信流程

## 线索区

### 知识点1: 移动IP的基本概念
- **移动节点**：具有永久IP地址的移动设备。
- **归属代理**：管理移动节点的本地代理。
- **外部代理**：在外部网络中帮助移动节点完成通信的实体。
- **转交地址**：外部代理的地址或动态配置的地址。

### 知识点2: 移动IP的通信过程
1. **注册与绑定**：
   - 外部代理将注册报文发送给归属代理，报文中包含转交地址和移动节点的永久地址。
   - 归属代理收到请求后，将永久地址和转交地址绑定，并返回注册响应报文。
2. **数据报的封装与转发**：
   - 到达归属代理的数据报会被封装并以隧道形式发送给转交地址。
   - 外部代理根据永久地址将数据报发送给移动节点。
3. **注册响应的转发与通信**：
   - 外部代理收到注册响应并转发给移动节点，告知注册成功。
   - 移动节点可以进行正常通信，且永久地址保持不变。
4. **移动节点移动到新网络的处理**：
   - 移动节点在新外部代理处注册新的转交地址。
   - 新外部代理向归属代理发送新的转交地址，覆盖之前的注册。
   - 通信过程与之前相同。
5. **移动节点返回归属网络的处理**：
   - 移动节点返回归属网络，向归属代理注销转交地址。
   - 按照原始方式进行通信。

### 知识点3: 移动IP的实际应用
- **实例分析**：移动节点A从归属网络进入外部网络。
- **转交地址的获取方式**：
  - 被动获得：通过ICMP报文。
  - 主动获得：通过广播报文。
- **移动节点通过外部代理向归属代理注册信息**。

## 总结区

移动IP技术通过转交地址和永久地址的绑定，确保移动设备在不同网络间通信时IP地址不变。关键概念包括移动节点、归属代理、外部代理和转交地址。通信过程涉及注册与绑定、数据报的封装与转发、注册响应的转发与通信、移动节点移动到新网络的处理以及返回归属网络的处理。理解这些过程和概念有助于掌握移动IP技术的核心原理和应用场景。