# 网络地址转换（NAT）技术

## 摘要

本课程介绍了网络地址转换（NAT）技术，旨在解决私有IP地址在广域网中无法被识别的问题。通过NAT技术，本地网络中的主机可以与外部网络通信。NAT路由器通过地址转换表实现IP地址和端口号的转换，确保数据报在互联网中能够被正确识别和转发。

## 主题

NAT技术通过在专用网和互联网之间的路由器上安装NAT软件，实现私有IP地址与全球IP地址的转换。NAT路由器通过NAT转换表进行地址和端口号的映射，确保数据报能够在本地网络和外部网络之间正确传输。

> 重点难点
>
> - 私有IP地址在广域网中的不可识别性
> - NAT路由器的工作原理和地址转换过程
> - NAT转换表的结构和功能

## 线索区

### 知识点1：私有IP地址与NAT技术
- 私有IP地址用于本地网络或专用网，但在广域网中无法被识别。
- NAT技术通过在专用网和互联网之间的路由器上安装NAT软件，实现私有IP地址与全球IP地址的转换。

### 知识点2：NAT路由器的工作原理
- NAT路由器至少有一个全球IP地址，代表本地网中的主机。
- 本地网中的主机通过NAT路由器的IP地址与外部网络通信。
- 外部网络的数据报先发送到NAT路由器，再由路由器分发给具体主机。

### 知识点3：NAT转换表
- NAT转换表分为广域网端和局域网端，包含IP地址和端口号。
- 端口号用于标识主机中的具体进程，不同主机中的进程可以使用相同的端口号。

### 知识点4：NAT地址转换过程
- 数据报经过NAT路由器时，原IP地址和端口号被替换为转换表中的对应值。
- 数据报在互联网中可以被路由器和其他主机识别和转发。
- 主机B发送数据报时，目的地址填写NAT路由器的IP地址。

### 知识点5：NAT路由器的反向转换
- 数据报到达NAT路由器后，路由器根据转换表将地址转换回本地网中的具体主机。
- NAT路由器通过替换原地址和端口号或目的地址和端口号实现网络地址转换。

## 总结区

NAT技术通过地址转换实现本地网与外部网络的通信，NAT路由器与其他路由器的区别在于其地址转换功能。NAT转换表是实现地址转换的关键，包含IP地址和端口号的映射关系。理解NAT技术的工作原理和转换过程是掌握网络通信的重要基础。