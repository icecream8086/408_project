# BGP协议与路由选择协议比较

## 摘要

本节课主要介绍了BGP协议的基本概念、报文类型、路由选择机制，并与RIP和OSPF协议进行了比较。BGP协议作为外部网关协议，使用TCP报文进行可靠的路由信息交换，适用于大规模互联网环境。

## 主题

BGP协议的核心内容包括报文类型、路由选择机制、与RIP和OSPF的比较。关键词包括：BGP发言人、自治系统（AS）、TCP报文、路由更新。

> 重点难点
>
> - BGP协议的报文类型及其功能
> - BGP与RIP、OSPF的区别
> - BGP的路由选择机制

## 线索区

### 知识点1：BGP协议的报文类型
- **Update报文**：用于路径更新或撤销。
- **Keepalive报文**：用于确认相邻BGP发言人的在线状态。
- **Notification报文**：用于通知错误或关闭连接。

### 知识点2：路由选择协议的比较
- **RIP协议**：基于距离向量的内部网关协议，使用UDP报文。
- **OSPF协议**：基于链路状态的内部网关协议，使用IP数据报。
- **BGP协议**：外部网关协议，使用TCP报文。

### 知识点3：BGP协议的路由选择
- BGP发言人交换网络可达性信息，选择较好路由。
- 构建的自治系统联通图是树形结构，避免兜圈子。

### 知识点4：BGP协议的报文格式
- BGP报文放入TCP报文中，作为TCP报文的数据段，再放入IP数据包中发送。
- 使用TCP而非UDP，因为TCP提供更可靠的服务。

### 知识点5：BGP协议的特点
- 支持CIDR，路由表包括目的网络前缀、下一跳路由器及经过的AS序列。
- 初始运行时交换整个路由表，之后仅在变化时更新有变化的部分。
- BGP-4的四种报文：Open、Update、Keepalive、Notification。

## 总结区

本节课总结了BGP协议的基本概念、报文类型、路由选择机制，并与RIP和OSPF协议进行了比较。BGP协议作为外部网关协议，使用TCP报文进行可靠的路由信息交换，适用于大规模互联网环境。重点难点包括BGP协议的报文类型、与RIP和OSPF的区别、以及BGP的路由选择机制。