# IPv6与IPv4的区别及IPv6地址表示

## 摘要

本课程详细介绍了IPv6与IPv4的基本区别、IPv6的地址表示形式、地址类型以及与IPv4的兼容策略。IPv6通过扩展地址空间、改进头部格式、支持即插即用等特性，解决了IPv4地址耗尽的问题，并提高了网络效率。

## 主题

IPv6与IPv4的主要区别、IPv6地址表示形式、IPv6地址类型、IPv6与IPv4的兼容策略。

> 重点难点
>
> - IPv6与IPv4的头部格式差异
> - IPv6地址的零压缩形式
> - IPv6的三种基本地址类型
> - IPv6与IPv4兼容的两种策略

## 线索区

### 知识点1：IPv6与IPv4的基本区别
- **跳数限制**：IPv6中的跳数限制相当于IPv4中的TTL（生存时间），当跳数限制达到0时，路由器会丢弃数据报并返回ICMP错误报告报文。
- **地址空间**：IPv6的源地址和目的地址均为128位，相比IPv4的32位地址空间大幅扩充。
- **校验和字段**：IPv6移除了校验和字段，减少了路由器处理时间。
- **扩展头部**：IPv6将IPv4的可选字段移除，改为扩展头部，提高了路由器的处理效率。
- **即插即用**：IPv6支持自动配置IP地址，而IPv4需要依赖DHCP协议。
- **头部长度**：IPv6的头部长度必须是8字节的整数倍，而IPv4为4字节的整数倍。
- **分片**：IPv6只能在主机处分片，而IPv4可以在路由器和主机处分片。
- **协议字段**：IPv6取消了协议字段，改为下一个头部字段。
- **总长度字段**：IPv6取消了总长度字段，改用有效载荷长度字段。
- **服务类型字段**：IPv6取消了服务类型字段（区分服务字段）。

### 知识点2：IPv6地址的表示形式
- **128位地址**：IPv6地址为128位（16字节），采用冒号16进制记法，每4位用一个16进制数表示，共8组，组间用冒号分隔。
- **零压缩形式**：IPv6地址支持压缩形式，连续的前导零可以省略，且连续的零组可以用双冒号表示。一个地址中只能出现一次双冒号。

### 知识点3：IPv6地址类型
- **单播地址**：用于一对一的通信，可以作为源地址或目的地址。
- **多播地址**：用于一对多的通信，只能作为目的地址。多播地址可以取代IPv4中的广播地址，发送给组内所有主机。
- **任播地址**：IPv6独有的地址类型，形式上是一对多，实际上是一对一通信，只能作为目的地址。

### 知识点4：IPv6与IPv4的兼容策略
- **双协议栈**：设备同时运行IPv4和IPv6协议栈，支持两种地址的转换。
- **隧道技术**：通过将IPv6数据包封装在IPv4数据包中进行传输，实现跨网络通信。隧道技术通过封装IPv6数据包，使其能够在IPv4网络中传输，到达IPv6网络后再解封装。

## 总结区

本课程详细介绍了IPv6与IPv4的区别、IPv6地址的表示形式、地址类型以及与IPv4的兼容策略。IPv6通过扩展地址空间、改进头部格式、支持即插即用等特性，解决了IPv4地址耗尽的问题，并提高了网络效率。重点难点包括IPv6与IPv4的头部格式差异、IPv6地址的零压缩形式、IPv6的三种基本地址类型以及IPv6与IPv4兼容的两种策略。