# 顺序栈的实现与操作

## 摘要

讨论了顺序栈的实现方式，包含初始化、进栈、出栈、读取栈顶元素等操作，详细讲解了代码示例及注意事项。

## 主题

介绍顺序栈的实现，涉及到基本操作的实现方法和代码示例。

> 重点难点
>
> - 初始化顺序栈
> - 进栈操作
> - 出栈操作
> - 读取栈顶元素
> - 判断栈是否为空或已满

## 线索区

### 顺序栈的初始化

顺序栈的初始化：

- 定义一个 `struct` 结构体，用 `typedef` 重命名为 `sqstack`。
- 在 `struct` 中包含一个静态数组 `data`，用于存放栈中的元素。
- 另定义一个 `top` 变量，作为栈顶指针，初始值为 -1。

> **案例代码**

```cpp
typedef struct {
    int data[MAX_SIZE]; // 存放栈中的元素
    int top; // 栈顶指针
} sqstack;

// 初始化栈
void initStack(sqstack *s) {
    s->top = -1;
}

```

### 操作

进栈操作：

- 判断栈是否已满，若未满则进行以下操作：
  - 将 `top` 指针加 1。
  - 将新的数据元素放入 `data` 数组中 `top` 指针指向的位置。
  - 返回 `true` 表示进栈成功。

> **案例代码**

```cpp
// 进栈操作
bool push(sqstack *s, int x) {
    if (s->top == MAX_SIZE - 1) { // 判断栈是否已满
        return false; // 栈满，返回false
    }
    s->data[++(s->top)] = x; // 栈顶指针加1，并将元素放入栈顶
    return true; // 入栈成功，返回true
}

```

出栈操作：

- 判断栈是否为空，若不为空则进行以下操作：
  - 将栈顶元素复制给变量 `x`。
  - 将 `top` 指针减 1。
  - 返回 `true` 表示出栈成功。

> **案例代码**

```cpp
// 出栈操作
bool pop(sqstack *s, int *x) {
    if (s->top == -1) { // 判断栈是否为空
        return false; // 栈空，返回false
    }
    *x = s->data[(s->top)--]; // 将栈顶元素赋值给x，并将栈顶指针减1
    return true; // 出栈成功，返回true
}

```

## 总结区

顺序栈使用静态数组存储数据元素，并通过一个栈顶指针来管理操作。初始化、进栈和出栈操作均可在 O(1) 的时间复杂度内完成。注意根据需求，栈顶指针可以设计为指向当前栈顶元素或下一个可插入元素的位置。共享栈通过两个栈顶指针实现内存资源的高效利用。
