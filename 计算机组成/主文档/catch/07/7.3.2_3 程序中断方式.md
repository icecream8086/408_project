# 中断系统与IO控制

## 摘要

本视频讲解了中断系统在计算机内部的作用，特别是如何通过中断机制实现CPU与IO设备的并行工作。视频详细介绍了中断处理的流程、中断机制的优势，并通过具体例子考察了中断处理的时间和操作。

## 主题

中断系统允许CPU与IO设备并行工作，提高系统效率。中断处理流程包括中断请求、中断响应、中断服务程序执行和中断返回。视频还通过具体题目考察了中断处理的时间和操作。

> 重点难点
>
> - 中断处理的流程和操作
> - 中断响应时间的计算
> - CPU与IO设备的并行工作

## 线索区

### 知识点1: 中断系统的作用
- 中断系统在计算机内部的作用是控制IO设备的数据读写工作。
- 引入中断系统后，CPU可以继续执行程序，IO设备完成工作后发送中断请求信号。

### 知识点2: CPU与IO设备的并行工作
- CPU运行程序时，可能需要使用外部设备输入数据。
- 通过IO指令启动IO设备，CPU可以继续执行程序。
- 外部设备准备数据时，CPU可以继续执行程序。

### 知识点3: 中断处理过程
- CPU检测到中断请求信号后，处理中断并返回至K+1指令。
- 中断处理过程包括关闭中断、保存PC值、指示中断服务程序入口地址。
- 中断服务程序中需要保护程序运行现场，保存寄存器值和中断屏蔽字。
- 中断服务程序处理中断信号，如从IO接口取走数据或输出数据。

### 知识点4: 中断机制的优势
- 引入中断机制后，CPU和外部设备可以并行工作。
- 举例说明scanf等待键盘输入与printf输出字符的区别。
- 对于某些IO操作，CPU不需要等待IO完成，可以继续执行后续指令。

### 知识点5: 中断处理的考察
- 考察总线异步通信方式和中断处理流程。
- 题目给出CPU主频和CPI，计算设备D传送1000个字符所需时钟周期。
- 设备D采用中断方式进行输入输出，每收到一个字符申请一次中断。
- 中断响应需要10个时钟周期，中断服务程序共有20条指令。
- 中断服务程序中，前15条指令启动设备D，后5条指令处理后续操作。
- 计算CPU读取1000个字符所需时钟周期和中断响应阶段的操作。

### 知识点6: 中断处理的流程
- 需要掌握中断处理的整个流程，包括中断引指令、中断服务程序的开始、中间和结尾操作。
- 计算1000个字符对应的1000次中断所需时钟周期。

## 总结区

本视频详细介绍了中断系统的作用、中断处理的流程以及中断机制的优势。通过具体例子考察了中断处理的时间和操作，帮助理解CPU与IO设备的并行工作。重点难点包括中断处理的流程和操作、中断响应时间的计算以及CPU与IO设备的并行工作。