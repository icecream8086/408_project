# 微程序控制器与V程序控制器

## 摘要

本笔记总结了微程序控制器和V程序控制器的工作原理、结构及其执行流程。微程序控制器通过将机器指令的执行分解为微指令序列，简化了控制器的设计。V程序控制器则进一步细化了微指令的执行流程，强调取指、鉴指、执行和中断周期的V指令序列的共享与执行顺序。

## 主题

微程序控制器和V程序控制器的核心思想是通过将机器指令的执行分解为微指令序列，简化控制器的设计。微程序存储在控制器内部的特殊存储器（控存）中，每条机器指令对应一个微程序。V程序控制器则进一步细化了微指令的执行流程，强调取指、鉴指、执行和中断周期的V指令序列的共享与执行顺序。

> 重点难点
>
> - 微程序与机器指令的对应关系
> - V指令序列的执行流程
> - 控存的作用与结构
> - 微命令、微操作和微指令的关系

## 线索区

### 知识点1：微程序控制器的基本原理
- 微程序控制器通过将机器指令的执行分解为微指令序列，简化了控制器的设计。
- 微程序存储在控制器内部的特殊存储器（控存）中，每条机器指令对应一个微程序。
- 微指令指明一个时序内可以同时进行的微操作。

### 知识点2：V程序控制器的工作原理
- V程序控制器强调取指、鉴指、执行和中断周期的V指令序列的共享与执行顺序。
- 取指周期对应的V指令序列通常从控存的0号单元开始存放，执行周期的V指令序列起始地址由指令操作码决定。
- V指令序列描述指令的具体功能，控存通常用ROM实现，按地址寻址。

### 知识点3：微命令、微操作和微指令的关系
- 微命令和微操作一一对应，微指令可能包含多个微命令。
- 微程序由微指令序列组成，每种指令对应一个微程序。
- V程序由V指令组成，与机器指令一一对应，每条机器指令对应一个V程序。

### 知识点4：V指令的执行流程
- 取数指令LDA的取数周期内会执行0号、1号和2号V指令。
- 0号V指令将PC内容放入MAR并发送读信号。
- 1号V指令将MAR所指的指令读到MDR中。
- 2号V指令将MDR中的数据转存到IR。

### 知识点5：控存的作用与结构
- 控存用于存放各指令所对应的微程序，通常用ROM芯片构成。
- ROM读取速度比RAM更快，且是非易失性存储芯片。
- 控存中存储的微指令序列通常只有一份取指、鉴指和中断周期的微程序，执行周期的微程序则因指令不同而不同。

## 总结区

本笔记总结了微程序控制器和V程序控制器的工作原理、结构及其执行流程。微程序控制器通过将机器指令的执行分解为微指令序列，简化了控制器的设计。V程序控制器则进一步细化了微指令的执行流程，强调取指、鉴指、执行和中断周期的V指令序列的共享与执行顺序。控存作为控制器内部的特殊存储器，存放微程序，通常用ROM实现，按地址寻址。理解微命令、微操作和微指令的关系是掌握微程序控制器和V程序控制器的关键。